# Application Configuration
spring.application.name=streming
server.port=8080
server.servlet.context-path=/api

# MongoDB Configuration
spring.data.mongodb.host=${MONGODB_HOST:localhost}
spring.data.mongodb.port=${MONGODB_PORT:27017}
spring.data.mongodb.database=${MONGODB_DATABASE:video_streaming}
spring.data.mongodb.username=${MONGODB_USERNAME:admin}
spring.data.mongodb.password=${MONGODB_PASSWORD:password}
spring.data.mongodb.authentication-database=admin

# GridFS Configuration
spring.data.mongodb.gridfs.database=${MONGODB_DATABASE:video_streaming}
spring.data.mongodb.gridfs.bucket=video_files

# JWT Configuration
jwt.secret=mySecretKey123456789012345678901234567890123456789012345678901234567890
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# Encryption Configuration
encryption.algorithm=AES
encryption.transformation=AES/CBC/PKCS5Padding
encryption.key-size=256
encryption.master-key=MyMasterKey123456789012345678901234567890

# File Upload Configuration
spring.servlet.multipart.max-file-size=2GB
spring.servlet.multipart.max-request-size=2GB
spring.servlet.multipart.enabled=true
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.location=${java.io.tmpdir}

# Logging Configuration
logging.level.com.mike.streming=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized
management.info.env.enabled=true

# OpenAPI/Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.enabled=true
springdoc.api-docs.enabled=true

# CORS Configuration - Configurado para Live Server (VS Code)
cors.allowed-origins=http://127.0.0.1:5500,http://localhost:5500
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,HEAD,PATCH
cors.allowed-headers=*
cors.allow-credentials=true

# Performance Configuration
server.tomcat.max-connections=8192
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=10
server.tomcat.connection-timeout=60000
server.tomcat.max-http-post-size=2147483648
server.tomcat.max-http-form-post-size=2147483648

# MongoDB Connection Pool
spring.data.mongodb.options.max-connection-pool-size=100
spring.data.mongodb.options.min-connection-pool-size=5
spring.data.mongodb.options.max-connection-idle-time=60000
spring.data.mongodb.options.max-connection-life-time=120000
